# Signaling settings for Talk bot (local use only)
# Source the Python project's .envrc first for credentials:
#   source ../nc_kyutai_live_transcriptions/.envrc

# Map TALK_* variables (from Python project) to LT_* (used by Go service)
export LT_HPB_URL="${TALK_HPB_URL:-wss://cloud.codemyriad.io/standalone-signaling/spreed}"
export LT_INTERNAL_SECRET="${TALK_INTERNAL_SECRET:-}"
export TALK_BACKEND_URL="${TALK_BACKEND_URL:-https://cloud.codemyriad.io/ocs/v2.php/apps/spreed/api/v3/signaling/backend}"
export TALK_ROOM_TOKEN="${TALK_ROOM_TOKEN:-erwcr27x}"

# Modal STT credentials
export MODAL_WORKSPACE="${MODAL_WORKSPACE:-silviot}"
export MODAL_KEY="${MODAL_KEY:-}"
export MODAL_SECRET="${MODAL_SECRET:-}"

# Service settings
export PORT="${PORT:-8080}"
export LOG_LEVEL="${LOG_LEVEL:-debug}"

# Convenience: if TALK_INTERNAL_SECRET was just set, map it
if [ -n "$TALK_INTERNAL_SECRET" ] && [ -z "$LT_INTERNAL_SECRET" ]; then
    export LT_INTERNAL_SECRET="$TALK_INTERNAL_SECRET"
fi
